<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calcula Revestimento e trincho</title>
  <style>
    .header__nav ul li {
      display: flex;  
      align-items: flex-end;
      justify-content: flex-end;

    }
    ul {
      display: flex;
      flex-direction: row;
      align-items: flex-end;
      justify-content: space-around;
      padding-left: 900px;

    }    
    
    a {
      text-decoration: none;
    }
  </style>
</head>

<body>
  <header>
    <nav class="header__nav">
      <ul>
        <li class="header__links">Home</li>
        <li class="header__links"><a href="./sobre.html">Contato</a></li>
        <li class="header__links">Sobre</li>
        <li class="header__links"><a href="./sobre.html">Contribua</a></li>
        <li class="header__links">Ajuda</li>
      </ul>
    </nav>
  </header>
  <h2>Faça o cálculo do piso para seu projeto</h2>

  <aside>
    <div>
      <form name="form" class="form__submit" action="#" method="post">
        <label for="larguraArea">Qual é a largura (em metros) da área que você quer cobrir? (considere a área na vertical com a largura sendo o menor
        lado)</label><br>
        <input type="text" name="larguraArea" placeholder="ex.: 1,20" aria-label="digite a largura da área (em metros)" class="form__input"><br>
        <label for="alturaArea">Qual é a altura (em metros) da área que você quer cobrir?
          (considere a área na vertical com a altura sendo o maior lado)</label><br>
        <input type="text" name="alturaArea" placeholder="ex.: 2,55"
          aria-label="digite a altura da área (em metros)" class="form__input"><br>
        <label for="larguraRevestimento">De quantos centímetros é a largura do revestimento que você quer usar?
          (considere o revestimento posicionado na vertical com a largura sendo o menor lado do revestimento.)</label><br>
        <input type="text" name="larguraRevestimento" placeholder="ex.: 60"
          aria-label="digite a largura do Revestimento (em centímetros)" class="form__input"><br>
        <label for="alturaRevestimento">De quantos centímetros é a altura do revestimento que você quer usar?
          (considere o revestimento posicionado na vertical com a altura sendo o maior lado do revestimento.)</label><br>
        <input type="text" name="alturaRevestimento" placeholder="ex.: 120"aria-label="digite a altura do Revestimento (em centímetros)" class="form__input"><br>
        <label for="posição">O revestimento será posicionado na vertical ou na horizontal? (considere vertical com a altura sendo o maior lado do revestimento.)<br>
          [1] Vertical<br>
          [2] Horizontal</label><br>
        <input type="text" name="posição" placeholder="ex.: 1"
            aria-label="digite apenas o número correspondente" class="form__input"><br>
        <input type="submit" class="search__button" value="Calcular"><br>
      </form>
    </div>
  </aside>

  <script>
    function calculaCeramica() {

      var largura = parseFloat(prompt(`Qual é a largura (em metros) da área que você quer cobrir? (considere a área na vertical com a largura sendo o menor lado)`).replace(',', '.'))

      var altura = parseFloat(prompt(`Agora digite a altura (em metros) da área desejada? (considere a área na vertical com a altura sendo o maior lado)`).replace(',', '.'))

      var ceramicaLargura = parseFloat(prompt(`De quantos centímetros é a largura do revestimento que você quer usar?\n(considere o revestimento posicionado na vertical com a largura sendo o menor lado do revestimento.)`).replace(',', '.'))
      var ceramicaAltura = parseFloat(prompt(`De quantos centímetros é a altura do revestimento que você quer usar?\n(considere o revestimento posicionado na vertical com a altura sendo o maior lado do revestimento.)`).replace(',', '.'))

      var posicaoRevestimento = parseInt(prompt(`O revestimento será posicionado na vertical ou na horizontal? (considere vertical com a altura sendo o maior lado do revestimento.)\n\n[1] Vertical\n[2]Horizontal`))

      var cmCeramicaLargura = ceramicaLargura / 100
      var cmCeramicaAltura = ceramicaAltura / 100


      var areaTotal = altura * largura // da o valor da área total a ser coberta

      // pega a largura e conta quantos cm de cerâmica tem dentro da largura


      function calcRevestimentoPosicao(larguraRevestimento, alturaRevestimento) {

        var quantasPecasInteirasNaLargura = largura / larguraRevestimento
        console.log(`quantasPecasInteirasNaLargura: ${quantasPecasInteirasNaLargura}`);
        var quantasPecasInteirasNaAltura = altura / alturaRevestimento
        console.log(` quantasPecasInteirasNaAltura: ${quantasPecasInteirasNaAltura}`) 
        var pecasInteiras = quantasPecasInteirasNaLargura * quantasPecasInteirasNaAltura // me diz a quantidade de peças inteiras que precisa
        console.log(`pecasInteiras: ${pecasInteiras}`) 
        var adicionalPecasInteirasLargura = 0
        var adicionalPecasInteirasAltura = 0
  
  
        // ###  calculando os trinchos da largura
  
        var sobraTrinchoLargura = largura % larguraRevestimento // tô pegando o resto da divisão pra calcular os trinchos
        console.log(`sobraTrinchoLargura: ${sobraTrinchoLargura}`)
        // calcular o trincho: se o resto da divisão entre a largura e o tamanho da cerâmica maior que 0 quer dizer que vai precisar de trincho pra cobrir o que falta.
        if (sobraTrinchoLargura > 1) {
          // calcular trincho metade
          var trinchoMetadeLargura = larguraRevestimento / 2 // calculando o valor do trincho que é metade da peça inteira
          console.log(`trinchoMetadeLargura: ${trinchoMetadeLargura}`) //0.3
          var quantosTrinchoMetadeLargura = sobraTrinchoLargura / trinchoMetadeLargura // vendo quantos trincho de peça cortada ao meio precisam
          console.log(`quantosTrinchoMetadeLargura ${quantosTrinchoMetadeLargura}`) 
          var sobraTrinchoMetadeLargura = sobraTrinchoLargura % trinchoMetadeLargura // se depois de calcular os trincho metade ainda sobrar resto nessa divisão, quer dizer que ainda falta area pra cobrir, então vamos calcular o trincho metade da metade
          console.log(`sobraTrinchoMetadeLargura: ${sobraTrinchoMetadeLargura}`) 
          
          
          if (sobraTrinchoMetadeLargura > 1) {
            // calcular trincho metade da metade
            var trinchoMetadeDaMetadeLargura = trinchoMetadeLargura / 2
            console.log(`trinchoMetadeDaMetadeLargura: ${trinchoMetadeDaMetadeLargura}`) 
            var quantosTrinchoMetadeDaMetadeLargura = sobraTrinchoMetadeLargura / trinchoMetadeDaMetadeLargura //vendo quantos trinchos de peça cortada na metade da metade precisam.
            console.log(`quantosTrinchoMetadeDaMetadeLargura: ${quantosTrinchoMetadeDaMetadeLargura}`) 
            
            var sobraTrinchoMetadeDaMetadeLargura = sobraTrinchoMetadeLargura % trinchoMetadeDaMetadeLargura
            console.log(`sobraTrinchoMetadeDaMetadeLargura: ${sobraTrinchoMetadeDaMetadeLargura}`) 
            
            if (sobraTrinchoMetadeDaMetadeLargura > 1) {
              // adicionando mais uma peça inteira
              adicionalPecasInteirasLargura += 1
              console.log(`adicionalPecasInteirasAltura: ${adicionalPecasInteirasLargura}`)
            }
          } else {
            quantosTrinchoMetadeDaMetadeLargura = 0
          }
          
        } else {
          quantosTrinchoMetadeLargura = 0
          quantosTrinchoMetadeDaMetadeLargura = 0
        }
  
          // ###  calculando os trinchos da Altura
  
          var sobraTrinchoAltura = altura % alturaRevestimento // tô pegando o resto da divisão pra calcular os trinchos
          console.log(`sobraTrinchoAltura: ${sobraTrinchoAltura}`) 
  
          // calcular o trincho: se o resto da divisão entre a Altura e o tamanho da cerâmica maior que 0 quer dizer que vai precisar de trincho pra cobrir o que falta.
          if (sobraTrinchoAltura > 1) {
            // calcular trincho metade
            var trinchoMetadeAltura = alturaRevestimento/ 2 // calculando o valor do trincho que é metade da peça inteira
            console.log(`trinchoMetadeAltura: ${trinchoMetadeAltura}`) 
            var quantosTrinchoMetadeAltura = sobraTrinchoAltura / trinchoMetadeAltura // vendo quantos trincho de peça cortada ao meio precisam
            console.log(`quantosTrinchoMetadeAltura: ${quantosTrinchoMetadeAltura}`) 
            var sobraTrinchoMetadeAltura = sobraTrinchoAltura % trinchoMetadeAltura // se depois de calcular os trincho metade ainda sobrar resto nessa divisão, quer dizer que ainda falta area pra cobrir, então vamos calcular o trincho metade da metade
            console.log(`sobraTrinchoMetadeAltura: ${sobraTrinchoMetadeAltura}`) 
            if (sobraTrinchoMetadeAltura > 1) {
              // calcular trincho metade da metade
              var trinchoMetadeDaMetadeAltura = trinchoMetadeAltura / 2
              console.log(`trinchoMetadeDaMetadeAltura: ${trinchoMetadeDaMetadeAltura}`) // 0.15
              var quantosTrinchoMetadeDaMetadeAltura = sobraTrinchoMetadeAltura / trinchoMetadeDaMetadeAltura //vendo quantos trinchos de peça cortada na metade da metade precisam.
              console.log(`quantosTrinchoMetadeDaMetadeAltura: ${quantosTrinchoMetadeDaMetadeAltura}`) 
              var sobraTrinchoMetadeDaMetadeAltura = sobraTrinchoMetadeAltura % trinchoMetadeDaMetadeAltura
              console.log(`sobraTrinchoMetadeDaMetadeAltura: ${sobraTrinchoMetadeDaMetadeAltura}`) 
  
              if (sobraTrinchoMetadeDaMetadeAltura > 1) {
                // adicionando mais uma peça inteira
                adicionalPecasInteirasAltura += 1
                console.log(`adicionalPecasInteirasAltura: ${adicionalPecasInteirasAltura}`) 
              }
            } else {
              quantosTrinchoMetadeDaMetadeAltura = 0
            }
            
          } else {
              quantosTrinchoMetadeAltura = 0
              quantosTrinchoMetadeDaMetadeAltura = 0
            
          }
  
  
          //calculando quantas peças precisa pra fazer os trinchos
          var quantosTrinchosMetadeTotais = quantosTrinchoMetadeLargura + quantosTrinchoMetadeAltura
          console.log(`quantosTrinchosMetadeTotais: ${quantosTrinchosMetadeTotais}`)
          
          var pecaTrinchoMetade = quantosTrinchosMetadeTotais / 2
          console.log(`pecaTrinchoMetade: ${pecaTrinchoMetade}`);
          
          var quantosTrinchosMetadeDaMetadeTotais = quantosTrinchoMetadeDaMetadeLargura + quantosTrinchoMetadeDaMetadeAltura
          console.log(`quantosTrinchosMetadeDaMetadeTotais: ${quantosTrinchosMetadeDaMetadeTotais}`) // 5.921189464667502e-15
          
          var pecaTrinchoMetadeDaMetade = quantosTrinchosMetadeDaMetadeTotais / 4
          console.log(`pecaTrinchoMetade: ${pecaTrinchoMetadeDaMetade}`);
  
  
          var totalPecas = pecasInteiras + adicionalPecasInteirasAltura + adicionalPecasInteirasLargura + pecaTrinchoMetade + pecaTrinchoMetadeDaMetade

          var mais10PorCento = (totalPecas * 10) / 100

          var totalFinal =  totalPecas + mais10PorCento

          console.log(`totalPecas: ${totalPecas}`) 
  
          if(quantosTrinchosMetadeTotais == 0 && quantosTrinchosMetadeDaMetadeTotais == 0) {
            alert(`Para cobrir uma área de ${areaTotal.toFixed(2).replace('.', ',')}m² você precisa de:\n\n${Math.round(pecasInteiras)} peças inteiras.\n\nEntão, indico que você compre ${Math.floor(totalPecas)} peças inteiras, ou com um percentual de garantia de 10% recomendo comprar ${Math.ceil(totalFinal)} peças.`)
          } else if(quantosTrinchosMetadeTotais == 0) {
            alert(`Para cobrir uma área de ${areaTotal.toFixed(2).replace('.', ',')}m² você precisa de:\n\n${Math.round(pecasInteiras)} peças inteiras,\n${Math.round(quantosTrinchosMetadeDaMetadeTotais)} trinchos cortados na metade da metade (que podem ser feitos utilizando ${Math.round(pecaTrinchoMetadeDaMetade)} peças inteiras).\n\nEntão, indico que você compre ${Math.floor(totalPecas)} peças inteiras, ou com um percentual de garantia de 10% recomendo comprar ${Math.ceil(totalFinal)} peças.`)
          } else if(quantosTrinchosMetadeDaMetadeTotais == 0) {
            alert(`Para cobrir uma área de ${areaTotal.toFixed(2).replace('.', ',')}m² você precisa de:\n\n${Math.round(pecasInteiras)} peças inteiras,\n${Math.round(quantosTrinchosMetadeTotais)} trinchos cortados ao meio (que podem ser feitos utilizando ${Math.round(pecaTrinchoMetade)} peças inteiras).\n\nEntão, indico que você compre ${Math.floor(totalPecas)} peças inteiras, ou com um percentual de garantia de 10% recomendo comprar ${Math.ceil(totalFinal)} peças.`)
          } else {
            alert(`Para cobrir uma área de ${areaTotal.toFixed(2).replace('.', ',')}m² você precisa de:\n\n${Math.round(pecasInteiras)} peças inteiras,\n${Math.round(quantosTrinchosMetadeTotais)} trinchos cortados ao meio (que podem ser feitos utilizando ${Math.round(pecaTrinchoMetade)} peças inteiras) e \n${Math.round(quantosTrinchosMetadeDaMetadeTotais)} trinchos cortados na metade da metade (que podem ser feitos utilizando ${Math.round(pecaTrinchoMetadeDaMetade)} peças inteiras).\n\nEntão, indico que você compre ${Math.floor(totalPecas)} peças inteiras, ou com um percentual de garantia de 10% recomendo comprar ${Math.ceil(totalFinal)} peças.`)
  
          }
      }


      if (posicaoRevestimento == 1) {
        calcRevestimentoPosicao(cmCeramicaLargura, cmCeramicaAltura)
      } 
      
      if (posicaoRevestimento == 2) {
        calcRevestimentoPosicao(cmCeramicaAltura, cmCeramicaLargura)
      }
    }
    //calculaCeramica()

  </script>
</body>

</html>